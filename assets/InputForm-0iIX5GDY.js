import{j as t,r as a,a as p}from"./index-7bT8f9QX.js";import{u as x}from"./useQuery-BuZ8gAIr.js";function f(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",children:t.jsx("path",{fill:"white",d:"M6 19h4V5H6zm8-14v14h4V5z"})})}function y(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",children:t.jsx("path",{fill:"white",fillRule:"evenodd",d:"M3.291 3.309a.75.75 0 0 0-.976.996l3.093 6.945H13a.75.75 0 0 1 0 1.5H5.408l-3.093 6.945a.75.75 0 0 0 .976.996l19-8a.75.75 0 0 0 0-1.382z",clipRule:"evenodd"})})}const g=({value:r,lineHeight:i=1.2})=>{const[u,d]=a.useState(1),s=a.useRef(null);return a.useEffect(()=>{if(s.current){const l=s.current,e=document.createElement("div");e.style.position="absolute",e.style.visibility="hidden",e.style.whiteSpace="pre-wrap",e.style.wordWrap="break-word",e.style.width=getComputedStyle(l).width,e.style.font=getComputedStyle(l).font,e.style.padding=getComputedStyle(l).padding,e.style.lineHeight=`${i}`,e.textContent=r,document.body.appendChild(e);const c=e.getBoundingClientRect().height,m=parseFloat(getComputedStyle(l).lineHeight),o=Math.ceil(c/m);document.body.removeChild(e),d(o>4?4:o)}},[r,i]),{lines:u,ref:s}},b=({handleStop:r,handleSubmit:i,isSending:u})=>{const d=a.useRef(null),{query:s,clearQuery:l,updateQuery:e}=x(),{clearRerenderFor:c}=p(),{lines:m,ref:o}=g({value:s}),h=()=>{s&&(i(s),c(),l(),setTimeout(()=>{var n;(n=d.current)==null||n.focus()},0))};return t.jsx("div",{className:"mx-1 lg:mx-0",children:t.jsxs("form",{className:"flex max-w-[700px] mx-auto bg-white rounded-3xl overflow-hidden shadow-lg border mb-2 lg:mb-0 gap-3",onSubmit:n=>{n.preventDefault(),h()},children:[t.jsx("textarea",{name:"",id:"",ref:o,rows:Math.min(Math.max(m,1),10),className:"w-full my-2 mx-1 outline-none resize-none pl-6 flex-1",placeholder:"Type Here...",value:s,onChange:n=>e(n.target.value),onKeyDown:n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),h())}}),t.jsx("div",{className:"flex justify-end items-end",children:u?t.jsx("button",{className:"bg-primary rounded-full w-12 h-12 flex justify-center items-center",type:"button",onClick:r,children:t.jsx(f,{})}):t.jsx("button",{className:"bg-primary rounded-full w-12 h-12 flex justify-center items-center",type:"submit",children:t.jsx(y,{})})})]})})};export{b as default};
